<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>System Design & LLD ‚Äî Activity Guide</title>
<link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Syne:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0b0e14;
    --surface: #131720;
    --surface2: #1a2030;
    --border: #252d3d;
    --accent: #00e5ff;
    --accent2: #ff6b35;
    --accent3: #7c3aed;
    --text: #e2e8f0;
    --muted: #64748b;
    --green: #10b981;
    --yellow: #f59e0b;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Syne', sans-serif;
    min-height: 100vh;
  }

  /* GRID NOISE BG */
  body::before {
    content: '';
    position: fixed; inset: 0; pointer-events: none; z-index: 0;
    background-image:
      linear-gradient(rgba(0,229,255,0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,229,255,0.03) 1px, transparent 1px);
    background-size: 40px 40px;
  }

  .container { max-width: 1100px; margin: 0 auto; padding: 0 24px; position: relative; z-index: 1; }

  /* HEADER */
  header {
    padding: 56px 0 40px;
    border-bottom: 1px solid var(--border);
  }
  .header-tag {
    font-family: 'Space Mono', monospace;
    font-size: 11px;
    color: var(--accent);
    letter-spacing: 3px;
    text-transform: uppercase;
    margin-bottom: 16px;
  }
  header h1 {
    font-size: clamp(2rem, 5vw, 3.5rem);
    font-weight: 800;
    line-height: 1.1;
    letter-spacing: -1px;
  }
  header h1 span { color: var(--accent); }
  header p {
    margin-top: 16px;
    color: var(--muted);
    font-size: 1rem;
    max-width: 600px;
    line-height: 1.7;
  }

  /* STATS BAR */
  .stats {
    display: flex; gap: 32px; flex-wrap: wrap;
    margin: 32px 0;
    padding: 24px;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
  }
  .stat { text-align: center; }
  .stat-num {
    font-family: 'Space Mono', monospace;
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--accent);
  }
  .stat-label { font-size: 0.75rem; color: var(--muted); margin-top: 2px; letter-spacing: 1px; text-transform: uppercase; }

  /* LEGEND */
  .legend {
    display: flex; gap: 20px; flex-wrap: wrap;
    margin-bottom: 32px;
  }
  .legend-item {
    display: flex; align-items: center; gap: 8px;
    font-size: 0.8rem; color: var(--muted);
  }
  .badge {
    display: inline-flex; align-items: center; gap: 5px;
    padding: 3px 10px; border-radius: 99px;
    font-size: 0.7rem; font-weight: 700; letter-spacing: 0.5px;
    font-family: 'Space Mono', monospace;
    white-space: nowrap;
  }
  .badge-intro { background: rgba(124,58,237,0.18); color: #a78bfa; border: 1px solid rgba(124,58,237,0.4); }
  .badge-practice { background: rgba(0,229,255,0.1); color: var(--accent); border: 1px solid rgba(0,229,255,0.3); }
  .badge-spark { background: rgba(245,158,11,0.12); color: var(--yellow); border: 1px solid rgba(245,158,11,0.35); }
  .badge-assess { background: rgba(16,185,129,0.12); color: var(--green); border: 1px solid rgba(16,185,129,0.3); }

  /* FILTER BAR */
  .filter-bar {
    display: flex; gap: 10px; flex-wrap: wrap;
    margin-bottom: 28px;
  }
  .filter-btn {
    padding: 7px 18px;
    border-radius: 99px;
    font-family: 'Space Mono', monospace;
    font-size: 0.72rem;
    cursor: pointer;
    transition: all 0.2s;
    border: 1px solid var(--border);
    background: var(--surface);
    color: var(--muted);
    letter-spacing: 0.5px;
  }
  .filter-btn:hover, .filter-btn.active {
    border-color: var(--accent);
    color: var(--accent);
    background: rgba(0,229,255,0.07);
  }

  /* SEARCH */
  .search-wrap {
    position: relative; margin-bottom: 32px;
  }
  .search-wrap input {
    width: 100%;
    padding: 12px 20px 12px 44px;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 10px;
    color: var(--text);
    font-family: 'Space Mono', monospace;
    font-size: 0.85rem;
    outline: none;
    transition: border-color 0.2s;
  }
  .search-wrap input:focus { border-color: var(--accent); }
  .search-wrap input::placeholder { color: var(--muted); }
  .search-icon {
    position: absolute; left: 14px; top: 50%; transform: translateY(-50%);
    color: var(--muted); font-size: 1rem;
  }

  /* CLASS CARDS */
  .classes-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 20px;
    margin-bottom: 60px;
  }

  .class-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 14px;
    overflow: hidden;
    transition: border-color 0.2s, transform 0.2s;
    cursor: pointer;
  }
  .class-card:hover {
    border-color: rgba(0,229,255,0.4);
    transform: translateY(-2px);
  }
  .class-card.expanded { border-color: var(--accent); }
  .class-card.hidden { display: none; }

  .card-header {
    padding: 20px 22px 16px;
    display: flex; gap: 14px; align-items: flex-start;
  }
  .class-num {
    font-family: 'Space Mono', monospace;
    font-size: 0.7rem;
    color: var(--accent);
    background: rgba(0,229,255,0.08);
    border: 1px solid rgba(0,229,255,0.2);
    border-radius: 6px;
    padding: 4px 8px;
    white-space: nowrap;
    margin-top: 2px;
    flex-shrink: 0;
  }
  .card-title-wrap { flex: 1; }
  .card-title {
    font-size: 0.95rem;
    font-weight: 800;
    line-height: 1.3;
    color: var(--text);
  }
  .card-subtitle {
    font-size: 0.75rem;
    color: var(--muted);
    margin-top: 4px;
    font-family: 'Space Mono', monospace;
  }
  .card-arrow {
    color: var(--muted);
    font-size: 1.1rem;
    transition: transform 0.3s;
    flex-shrink: 0;
    margin-top: 2px;
  }
  .class-card.expanded .card-arrow { transform: rotate(90deg); color: var(--accent); }

  .card-body {
    display: none;
    padding: 0 22px 22px;
    border-top: 1px solid var(--border);
  }
  .class-card.expanded .card-body { display: block; }

  /* ACTIVITY SECTION */
  .activity-section { margin-top: 18px; }
  .activity-section + .activity-section { margin-top: 14px; }

  .act-header {
    display: flex; align-items: center; gap: 8px;
    margin-bottom: 10px;
  }
  .act-title {
    font-size: 0.8rem; font-weight: 700; color: var(--text);
    letter-spacing: 0.5px; text-transform: uppercase;
  }

  .activity-item {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 14px 16px;
    margin-bottom: 8px;
    position: relative;
  }
  .activity-item:last-child { margin-bottom: 0; }

  .act-item-title {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--text);
    margin-bottom: 5px;
  }
  .act-item-desc {
    font-size: 0.8rem;
    color: var(--muted);
    line-height: 1.6;
  }
  .act-item-desc strong { color: var(--accent); font-weight: 600; }

  .act-meta {
    display: flex; gap: 10px; flex-wrap: wrap;
    margin-top: 8px;
  }
  .meta-chip {
    font-family: 'Space Mono', monospace;
    font-size: 0.65rem;
    color: var(--muted);
    background: rgba(255,255,255,0.04);
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 2px 8px;
  }

  /* PROGRESS TRACKER */
  .progress-section {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 28px;
    margin-bottom: 40px;
  }
  .progress-title {
    font-size: 1rem; font-weight: 800; margin-bottom: 16px;
    display: flex; align-items: center; gap: 10px;
  }
  .progress-title span { color: var(--accent); }
  .progress-bar-wrap {
    background: var(--surface2);
    border-radius: 99px;
    height: 8px;
    margin-bottom: 8px;
    overflow: hidden;
  }
  .progress-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--accent3), var(--accent));
    border-radius: 99px;
    transition: width 0.5s ease;
    width: 0%;
  }
  .progress-label {
    font-family: 'Space Mono', monospace;
    font-size: 0.75rem; color: var(--muted);
    display: flex; justify-content: space-between;
  }

  .class-check-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
    gap: 8px;
    margin-top: 20px;
  }
  .class-check {
    display: flex; align-items: center; gap: 8px;
    padding: 8px 12px;
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 0.75rem;
    font-family: 'Space Mono', monospace;
    color: var(--muted);
    user-select: none;
  }
  .class-check:hover { border-color: var(--accent); color: var(--text); }
  .class-check.done {
    background: rgba(16,185,129,0.08);
    border-color: var(--green);
    color: var(--green);
  }
  .class-check .checkmark { font-size: 0.8rem; width: 16px; text-align: center; }

  /* EMPTY STATE */
  .empty-state {
    text-align: center; padding: 60px 20px;
    color: var(--muted);
    display: none;
    font-family: 'Space Mono', monospace;
    font-size: 0.85rem;
  }

  @media (max-width: 600px) {
    .classes-grid { grid-template-columns: 1fr; }
    .stats { gap: 20px; }
  }
</style>
</head>
<body>

<div class="container">
  <header>
    <div class="header-tag">// Educational Activity Guide</div>
    <h1>System Design &amp;<br><span>LLD Curriculum</span></h1>
    <p>24-class activity guide covering system design foundations, distributed systems, object-oriented design, and design patterns ‚Äî with activities for every learning goal.</p>
  </header>

  <div class="stats">
    <div class="stat"><div class="stat-num">24</div><div class="stat-label">Classes</div></div>
    <div class="stat"><div class="stat-num">96+</div><div class="stat-label">Activities</div></div>
    <div class="stat"><div class="stat-num">4</div><div class="stat-label">Activity Types</div></div>
    <div class="stat"><div class="stat-num">2</div><div class="stat-label">Modules</div></div>
  </div>

  <!-- PROGRESS -->
  <div class="progress-section">
    <div class="progress-title">üìä Class Progress Tracker <span id="done-count">0 / 24</span></div>
    <div class="progress-bar-wrap"><div class="progress-bar-fill" id="progress-fill"></div></div>
    <div class="progress-label"><span>Not started</span><span>All done!</span></div>
    <div class="class-check-grid" id="check-grid"></div>
  </div>

  <!-- LEGEND -->
  <div class="legend">
    <div class="legend-item"><span class="badge badge-intro">üîç Intro</span> Introduce concept</div>
    <div class="legend-item"><span class="badge badge-practice">‚öô Practice</span> Reinforce skills</div>
    <div class="legend-item"><span class="badge badge-spark">üí° Spark</span> Curiosity / engagement</div>
    <div class="legend-item"><span class="badge badge-assess">‚úÖ Assess</span> Check understanding</div>
  </div>

  <!-- FILTER + SEARCH -->
  <div class="filter-bar">
    <button class="filter-btn active" data-filter="all">All Classes</button>
    <button class="filter-btn" data-filter="sys">System Design (1‚Äì12)</button>
    <button class="filter-btn" data-filter="lld">LLD / OOP (13‚Äì24)</button>
    <button class="filter-btn" data-filter="intro">üîç Intro</button>
    <button class="filter-btn" data-filter="practice">‚öô Practice</button>
    <button class="filter-btn" data-filter="spark">üí° Spark</button>
    <button class="filter-btn" data-filter="assess">‚úÖ Assess</button>
  </div>

  <div class="search-wrap">
    <span class="search-icon">üîé</span>
    <input type="text" id="search" placeholder="Search by class, topic, activity...">
  </div>

  <div class="classes-grid" id="classes-grid"></div>
  <div class="empty-state" id="empty-state">No classes match your search.</div>
</div>

<script>
const classes = [
  {
    id: 1, module: "sys",
    title: "System Design Foundations",
    topics: "CAP theorem ¬∑ Load estimation ¬∑ Caching ¬∑ REST API ¬∑ Fault tolerance",
    activities: [
      { type: "spark", title: "CAP Dilemma Debate", desc: "Present 3 real systems (Amazon, Google Docs, Cassandra). Ask: <strong>which CAP properties do they sacrifice and why?</strong> Small groups debate, then share out.", time: "20 min", format: "Group" },
      { type: "intro", title: "Load Estimation Worksheet", desc: "Give a scenario (e.g. a food delivery app). Students estimate <strong>RPS, bandwidth, and storage</strong> using back-of-envelope math. Walk through solution together.", time: "25 min", format: "Solo" },
      { type: "practice", title: "Cache Strategy Card Sort", desc: "Print cards describing scenarios. Students match each to <strong>read-through / write-through / write-back</strong> and justify the choice.", time: "15 min", format: "Pairs" },
      { type: "assess", title: "1-Minute Architecture Sketch", desc: "Pose a simple system prompt (e.g. URL shortener). Students sketch a <strong>component diagram + API endpoints</strong> in 5 minutes, then peer-review.", time: "15 min", format: "Solo" }
    ]
  },
  {
    id: 2, module: "sys",
    title: "Requirement Analysis & API Design",
    topics: "Functional/non-functional ¬∑ REST ¬∑ Pagination ¬∑ SLA/SLO/SLI ¬∑ Redis/CDN",
    activities: [
      { type: "spark", title: "Requirements Treasure Hunt", desc: "Show a vague product brief ('Build a messaging app'). Students must <strong>extract hidden non-functional requirements</strong> buried in the description.", time: "15 min", format: "Group" },
      { type: "intro", title: "API Contract Design", desc: "Students design <strong>REST endpoints, pagination, and versioning</strong> for a given feature. Compare schemas and discuss trade-offs.", time: "30 min", format: "Solo" },
      { type: "practice", title: "SLO Definition Workshop", desc: "Given a fintech app scenario, teams define <strong>SLOs for latency, availability, and error rate</strong>. Present and critique each other's targets.", time: "25 min", format: "Team" },
      { type: "assess", title: "Exit Quiz: NFRs", desc: "5-question rapid quiz: identify whether each requirement is functional or non-functional. Includes <strong>tricky edge cases</strong>.", time: "10 min", format: "Solo" }
    ]
  },
  {
    id: 3, module: "sys",
    title: "Load Balancing & CI/CD Systems",
    topics: "L4 vs L7 ¬∑ Nginx ¬∑ Job queues ¬∑ CI/CD pipelines ¬∑ Rollback",
    activities: [
      { type: "spark", title: "Traffic Routing Simulation", desc: "Use sticky notes on a whiteboard as 'requests'. Physically route them through L4 and L7 nodes. <strong>Visualize what gets dropped</strong> during a node failure.", time: "20 min", format: "Group" },
      { type: "intro", title: "CI/CD Pipeline Flowchart", desc: "Students draw a <strong>complete CI/CD pipeline</strong> from commit to production, labeling each stage, artifact store, and rollback trigger.", time: "25 min", format: "Solo" },
      { type: "practice", title: "Rollback Scenario Drill", desc: "Present a bad deploy scenario. Students must <strong>identify the rollback strategy, estimate blast radius</strong>, and write the incident checklist.", time: "20 min", format: "Pairs" },
      { type: "assess", title: "Nginx Config Review", desc: "Share a simplified Nginx config with 2 bugs. Students <strong>spot, explain, and fix</strong> the issues.", time: "10 min", format: "Solo" }
    ]
  },
  {
    id: 4, module: "sys",
    title: "Database Architecture",
    topics: "Read/write workloads ¬∑ Sharding ¬∑ Caching strategies ¬∑ Message delivery",
    activities: [
      { type: "spark", title: "Read vs Write Heavy Challenge", desc: "Show 4 real apps (Twitter, Bank, Netflix, WhatsApp). Classify each as <strong>read-heavy / write-heavy / both</strong> and explain the consequences.", time: "15 min", format: "Group" },
      { type: "intro", title: "Sharding Strategy Design", desc: "Given a social media schema, students choose <strong>user-based vs region-based sharding</strong>, draw the shard map, and identify hotspot risks.", time: "30 min", format: "Solo" },
      { type: "practice", title: "Cache Invalidation Puzzle", desc: "Scenario: cached data goes stale. Students must <strong>trace the invalidation path</strong> and redesign the cache layer to prevent re-occurrence.", time: "20 min", format: "Pairs" },
      { type: "assess", title: "DB Design Critique", desc: "Show a flawed DB schema. Students write a short critique covering <strong>indexing, normalization, and scalability concerns</strong>.", time: "15 min", format: "Solo" }
    ]
  },
  {
    id: 5, module: "sys",
    title: "Data Partitioning & Consistency",
    topics: "Consistent hashing ¬∑ Quorum ¬∑ Strong vs eventual ¬∑ Gossip protocol",
    activities: [
      { type: "spark", title: "Consistent Hashing Ring Demo", desc: "Use a physical ring (whiteboard circle) and sticky note 'nodes'. Add/remove nodes and see how keys <strong>redistribute</strong>. Count moves with/without virtual nodes.", time: "20 min", format: "Group" },
      { type: "intro", title: "Quorum Calculator", desc: "Students calculate <strong>read quorum, write quorum, and fault tolerance</strong> for N=5, 7, 9 node clusters. Explore the R+W>N rule.", time: "20 min", format: "Solo" },
      { type: "practice", title: "Consistency Level Trade-off Table", desc: "Create a 3-column table: scenario, recommended consistency level, justification. Fill in 6 real-world scenarios.", time: "20 min", format: "Pairs" },
      { type: "assess", title: "Gossip Protocol Trace", desc: "Given a 6-node cluster with partial updates, trace how gossip spreads. Identify <strong>when all nodes converge</strong>.", time: "15 min", format: "Solo" }
    ]
  },
  {
    id: 6, module: "sys",
    title: "Asynchronous Communication",
    topics: "Kafka ¬∑ Producer-consumer ¬∑ Topics/partitions ¬∑ Alert pipelines ¬∑ Monitoring",
    activities: [
      { type: "spark", title: "Sync vs Async War Stories", desc: "Start with a real outage story (e.g. a sync API cascade failure). Ask: <strong>how would async messaging have prevented this?</strong>", time: "15 min", format: "Discussion" },
      { type: "intro", title: "Kafka Architecture Diagram", desc: "Students draw a Kafka setup from scratch: <strong>topics, partitions, producers, consumers, consumer groups, and offsets</strong> for an e-commerce order system.", time: "30 min", format: "Solo" },
      { type: "practice", title: "Message Ordering Challenge", desc: "Scenario: an order system needs strict message ordering per user but high parallelism overall. Students design the <strong>partition key strategy</strong>.", time: "20 min", format: "Pairs" },
      { type: "assess", title: "Alert Pipeline Design", desc: "Design an alert pipeline from metrics ingestion to notification. Must specify <strong>queue, processing, deduplication, and delivery</strong> stages.", time: "20 min", format: "Solo" }
    ]
  },
  {
    id: 7, module: "sys",
    title: "Search & Indexing Systems",
    topics: "Data ingestion ¬∑ Tokenization ¬∑ Index maintenance ¬∑ Ranking ¬∑ Query optimization",
    activities: [
      { type: "spark", title: "Google Search Reverse-Engineering", desc: "Search for the same query 3 different ways. Compare results. Hypothesize: <strong>what signals might influence the ranking?</strong>", time: "15 min", format: "Group" },
      { type: "intro", title: "Inverted Index Builder", desc: "Manually build an inverted index for 5 short documents. Perform a <strong>multi-term query</strong> and trace the lookup path.", time: "25 min", format: "Solo" },
      { type: "practice", title: "Query Optimization Lab", desc: "Given a slow search query plan, students rewrite it using <strong>filter-first, scoring optimization, and caching</strong> strategies.", time: "20 min", format: "Pairs" },
      { type: "assess", title: "Architecture Review: E-commerce Search", desc: "Sketch a full search system for an e-commerce site covering <strong>ingest, index, query, and cache layers</strong>.", time: "20 min", format: "Solo" }
    ]
  },
  {
    id: 8, module: "sys",
    title: "Distributed Storage",
    topics: "Object storage ¬∑ Chunking ¬∑ Deduplication ¬∑ Versioning ¬∑ Cross-region sync",
    activities: [
      { type: "spark", title: "How Dropbox Works? Guess It!", desc: "Before the lesson, students sketch how they think Dropbox stores files. After the lesson, compare original sketch with real architecture.", time: "20 min", format: "Solo" },
      { type: "intro", title: "Chunking & Dedup Exercise", desc: "Given 3 files with overlapping content, manually apply <strong>content-addressed chunking</strong> and calculate storage savings from deduplication.", time: "25 min", format: "Solo" },
      { type: "practice", title: "Multi-Region Sync Design", desc: "Design cross-region sync for a file storage system: handle <strong>conflict resolution, bandwidth cost, and consistency</strong>.", time: "25 min", format: "Teams" },
      { type: "assess", title: "Metadata DB Schema", desc: "Design a metadata DB for a cloud storage system covering <strong>file versioning, chunk references, and access control</strong>.", time: "20 min", format: "Solo" }
    ]
  },
  {
    id: 9, module: "sys",
    title: "Domain Name Resolution",
    topics: "DNS resolution ¬∑ Recursive/iterative queries ¬∑ TTL ¬∑ DNS load balancing",
    activities: [
      { type: "spark", title: "DNS Detective", desc: "Run `nslookup` on 5 different popular domains. Compare TTLs, IP counts, and response types. <strong>What patterns do you notice?</strong>", time: "15 min", format: "Solo" },
      { type: "intro", title: "DNS Resolution Walkthrough", desc: "Physically act out a DNS resolution: one student is the browser, others are resolver, root, TLD, and authoritative servers. <strong>Pass paper 'queries'</strong> between roles.", time: "20 min", format: "Group" },
      { type: "practice", title: "TTL Trade-off Analysis", desc: "Given 3 scenarios (marketing site, banking API, streaming CDN), choose the ideal TTL and justify: <strong>cache freshness vs resolver load</strong>.", time: "15 min", format: "Pairs" },
      { type: "assess", title: "DNS Load Balancing Plan", desc: "Design a DNS-based load balancing strategy for a global app with users in 3 regions. Cover <strong>geo-routing, health checks, and failover</strong>.", time: "15 min", format: "Solo" }
    ]
  },
  {
    id: 10, module: "sys",
    title: "Distributed Locks & Coordination",
    topics: "Lease-based locking ¬∑ Quorum coordination ¬∑ Fencing tokens ¬∑ Consensus",
    activities: [
      { type: "spark", title: "The Double-Booking Problem", desc: "Act out a hotel booking scenario with 2 clients booking the last room simultaneously. <strong>What goes wrong without locks?</strong> Brainstorm solutions first.", time: "15 min", format: "Group" },
      { type: "intro", title: "Fencing Token Diagram", desc: "Draw the fencing token flow: client acquires lock, sends token, storage validates. Then show <strong>what happens when a stale client ignores the fence</strong>.", time: "20 min", format: "Solo" },
      { type: "practice", title: "Redlock Analysis", desc: "Walk through Redis Redlock on N=5 nodes. Calculate: <strong>majority quorum, failure scenarios, and clock skew risks</strong>.", time: "25 min", format: "Group" },
      { type: "assess", title: "Lock Design Decision", desc: "3 scenarios (payment deduction, seat reservation, leader election). Choose and justify the <strong>right locking strategy for each</strong>.", time: "15 min", format: "Solo" }
    ]
  },
  {
    id: 11, module: "sys",
    title: "Distributed Transactions & Consensus",
    topics: "2PC ¬∑ Rollback/compensation ¬∑ Idempotency ¬∑ WAL ¬∑ Failure recovery",
    activities: [
      { type: "spark", title: "Bank Transfer Gone Wrong", desc: "Simulate a money transfer where the debit succeeds but credit fails. <strong>Walk through the disaster</strong> and ask: what should have happened?", time: "15 min", format: "Discussion" },
      { type: "intro", title: "2PC Phase Diagram", desc: "Students draw the 2PC protocol with coordinator + 2 participants, labeling <strong>prepare, commit, abort, and failure paths</strong>.", time: "25 min", format: "Solo" },
      { type: "practice", title: "Idempotency Key Design", desc: "Design idempotency for a payment API: define the <strong>key structure, storage, expiry, and duplicate detection</strong> logic.", time: "20 min", format: "Pairs" },
      { type: "assess", title: "Saga vs 2PC Comparison", desc: "Given 2 scenarios, students choose between Saga and 2PC, and write a 1-paragraph justification for each.", time: "15 min", format: "Solo" }
    ]
  },
  {
    id: 12, module: "sys",
    title: "Peer-to-Peer Systems",
    topics: "Peer discovery ¬∑ DHT ¬∑ Data routing ¬∑ Fault tolerance ¬∑ Chunk replication",
    activities: [
      { type: "spark", title: "BitTorrent In The Room", desc: "Simulate a file share using sticky note 'chunks'. Students must find peers, request chunks, and reassemble the file. <strong>Feel how P2P works.</strong>", time: "20 min", format: "Group" },
      { type: "intro", title: "DHT Key Lookup", desc: "Build a simple Kademlia-style DHT on paper: place nodes on a keyspace, route a lookup step-by-step using <strong>XOR distance</strong>.", time: "25 min", format: "Solo" },
      { type: "practice", title: "Churn Simulation", desc: "Given a 10-node P2P network, randomly remove 3 nodes. Show how the system <strong>re-routes, replicates, and heals</strong>.", time: "20 min", format: "Group" },
      { type: "assess", title: "P2P Design Brief", desc: "Design a P2P video streaming network. Cover <strong>discovery, chunk distribution, NAT traversal, and abuse prevention</strong>.", time: "20 min", format: "Solo" }
    ]
  },
  // LLD MODULE
  {
    id: 13, module: "lld",
    title: "OOP Principles & UML Basics",
    topics: "Encapsulation ¬∑ Inheritance ¬∑ Polymorphism ¬∑ UML class & sequence diagrams",
    activities: [
      { type: "spark", title: "Real-World Object Hunt", desc: "Pick 3 objects from your daily life. Model them as classes with attributes, methods, and relationships. <strong>Which OOP principle does each embody?</strong>", time: "15 min", format: "Solo" },
      { type: "intro", title: "UML Class Diagram: Library System", desc: "Students draw a complete UML class diagram for a library: <strong>Book, Member, Loan ‚Äî with multiplicity, access modifiers, and relationships</strong>.", time: "30 min", format: "Solo" },
      { type: "practice", title: "Sequence Diagram Trace", desc: "Trace the sequence of a user checking out a book: <strong>draw lifelines, messages, and return arrows</strong> for all participants.", time: "20 min", format: "Pairs" },
      { type: "assess", title: "Aggregation vs Composition Quiz", desc: "10 relationship examples. Students label each as aggregation, composition, association, or inheritance with a one-line reason.", time: "10 min", format: "Solo" }
    ]
  },
  {
    id: 14, module: "lld",
    title: "Design Patterns: Creational",
    topics: "Factory ¬∑ Abstract Factory ¬∑ Singleton ¬∑ Builder ¬∑ Object creation decoupling",
    activities: [
      { type: "spark", title: "Pattern Scavenger Hunt", desc: "Open any popular open-source library. Find and name <strong>at least 2 creational patterns</strong> used in the codebase. Share findings.", time: "20 min", format: "Group" },
      { type: "intro", title: "Builder vs Constructor Comparison", desc: "Implement a Pizza class: first with a telescoping constructor, then with Builder. <strong>Count parameters and compare readability.</strong>", time: "25 min", format: "Solo" },
      { type: "practice", title: "Singleton Anti-pattern Lab", desc: "Given a broken Singleton with thread-safety issues, students <strong>identify the race condition and fix it</strong> using double-checked locking.", time: "20 min", format: "Pairs" },
      { type: "assess", title: "Pattern Identification MCQ", desc: "6 code snippets ‚Äî identify which creational pattern each uses and what problem it solves.", time: "10 min", format: "Solo" }
    ]
  },
  {
    id: 15, module: "lld",
    title: "SOLID Principles",
    topics: "SRP ¬∑ OCP ¬∑ LSP ¬∑ ISP ¬∑ DIP ¬∑ Code smells ¬∑ Cohesion/coupling",
    activities: [
      { type: "spark", title: "Code Smell Gallery Walk", desc: "Post 5 code snippets around the room (or screen). Students rotate and <strong>annotate each with the SOLID principle being violated</strong>.", time: "20 min", format: "Group" },
      { type: "intro", title: "Refactor to SOLID", desc: "Give a bloated God class. Students refactor it step-by-step: <strong>extract responsibilities, invert dependencies, and segregate interfaces</strong>.", time: "35 min", format: "Solo" },
      { type: "practice", title: "LSP Litmus Test", desc: "Show 5 inheritance hierarchies. Students apply the Liskov test: <strong>'Can I replace the parent with this child without breaking behavior?'</strong>", time: "20 min", format: "Pairs" },
      { type: "assess", title: "Design Review Memo", desc: "Provide a 50-line class. Students write a short review identifying <strong>SOLID violations and proposing fixes</strong>.", time: "20 min", format: "Solo" }
    ]
  },
  {
    id: 16, module: "lld",
    title: "Structural Patterns",
    topics: "Adapter ¬∑ Facade ¬∑ Composite ¬∑ Decorator ¬∑ Composition over inheritance",
    activities: [
      { type: "spark", title: "Real-World Pattern Mapping", desc: "Match each structural pattern to a real-world analog: <strong>Adapter = power plug converter, Facade = car dashboard</strong>... Students come up with their own.", time: "15 min", format: "Group" },
      { type: "intro", title: "Decorator Chain Builder", desc: "Build a text formatter: plain ‚Üí bold ‚Üí italic ‚Üí underline using the Decorator pattern. <strong>Show how decorators stack without modifying originals</strong>.", time: "25 min", format: "Solo" },
      { type: "practice", title: "Adapter Design Challenge", desc: "Given a legacy payment API and a new interface contract, design an Adapter that bridges them. <strong>Map each method and handle mismatches.</strong>", time: "20 min", format: "Pairs" },
      { type: "assess", title: "Pattern Selection Justification", desc: "3 scenarios. Students choose the correct structural pattern and write a 2-sentence justification for each choice.", time: "15 min", format: "Solo" }
    ]
  },
  {
    id: 17, module: "lld",
    title: "Behavioral Patterns I",
    topics: "Strategy ¬∑ Observer ¬∑ Command ¬∑ Event-driven interactions",
    activities: [
      { type: "spark", title: "Strategy vs Hard-coding", desc: "Show a sorting function with 4 if/else branches. Refactor live into Strategy. <strong>Count how many lines changed ‚Äî and how many didn't.</strong>", time: "20 min", format: "Demo" },
      { type: "intro", title: "Observer Pattern Simulation", desc: "Students model a notification system: one 'publisher' posts events, multiple 'subscribers' react differently. <strong>Draw the event flow and observer registration</strong>.", time: "25 min", format: "Solo" },
      { type: "practice", title: "Command + Undo Implementation", desc: "Design a text editor's undo/redo using Command pattern. Implement <strong>execute(), undo(), and a command history stack</strong>.", time: "25 min", format: "Pairs" },
      { type: "assess", title: "Pattern Refactoring Task", desc: "Given monolithic event handling code, refactor it using Observer or Command with a brief explanation of the design decision.", time: "20 min", format: "Solo" }
    ]
  },
  {
    id: 18, module: "lld",
    title: "Behavioral Patterns II",
    topics: "State ¬∑ Chain of Responsibility ¬∑ Workflow handling ¬∑ Transaction modeling",
    activities: [
      { type: "spark", title: "State Machine Exploration", desc: "Map out the states of a vending machine or traffic light on a whiteboard. <strong>Students discover they've drawn a State pattern</strong> without being told.", time: "15 min", format: "Group" },
      { type: "intro", title: "State Transition Diagram", desc: "Design a <strong>full State Machine for an order lifecycle</strong>: pending ‚Üí confirmed ‚Üí shipped ‚Üí delivered ‚Üí returned, with allowed transitions.", time: "25 min", format: "Solo" },
      { type: "practice", title: "Chain of Responsibility Design", desc: "Design a support ticket escalation: L1 ‚Üí L2 ‚Üí Manager ‚Üí CEO. Implement <strong>handler chaining, early exit, and fallback</strong>.", time: "20 min", format: "Pairs" },
      { type: "assess", title: "Transaction Flow Modeling", desc: "Model a payment transaction state machine with <strong>success, failure, retry, and timeout states</strong>. Include transitions and guard conditions.", time: "20 min", format: "Solo" }
    ]
  },
  {
    id: 19, module: "lld",
    title: "Concurrency in LLD",
    topics: "Mutex ¬∑ Semaphore ¬∑ Thread pools ¬∑ Deadlock ¬∑ Safe resource access",
    activities: [
      { type: "spark", title: "Dining Philosophers Live", desc: "5 students, 5 pencils, 5 plates of 'food'. Simulate the Dining Philosophers problem. <strong>Who deadlocks first?</strong> Then find the fix.", time: "20 min", format: "Group" },
      { type: "intro", title: "Mutex vs Semaphore Showdown", desc: "Design 2 scenarios: one needs mutual exclusion, one needs resource counting. <strong>Implement both and explain why each choice is correct</strong>.", time: "25 min", format: "Solo" },
      { type: "practice", title: "Thread Pool Sizing Calculator", desc: "Given CPU-bound vs I/O-bound workloads, calculate <strong>optimal thread pool size using Little's Law</strong> and benchmark assumptions.", time: "20 min", format: "Pairs" },
      { type: "assess", title: "Deadlock Detection Drill", desc: "Show 3 code snippets with concurrent resource acquisition. Identify which causes a deadlock and <strong>rewrite to fix it</strong>.", time: "15 min", format: "Solo" }
    ]
  },
  {
    id: 20, module: "lld",
    title: "Extensible System Design",
    topics: "Polymorphism ¬∑ Strategy-based rules ¬∑ Domain modeling ¬∑ Feature extensibility",
    activities: [
      { type: "spark", title: "Feature Request Chaos", desc: "Start with a simple discount calculator. <strong>Add 5 new requirements one by one</strong>. Watch the code collapse without extensibility. Then redesign.", time: "20 min", format: "Demo" },
      { type: "intro", title: "Polymorphic Discount Engine", desc: "Design a discount system using polymorphism: PercentageDiscount, FixedDiscount, BuyOneGetOne. <strong>Add a new type without touching existing code.</strong>", time: "25 min", format: "Solo" },
      { type: "practice", title: "Board Game Domain Model", desc: "Model a board game engine (Chess or Checkers): <strong>pieces, moves, validation rules</strong> ‚Äî designed for extensibility to new game types.", time: "30 min", format: "Pairs" },
      { type: "assess", title: "Extensibility Checklist Review", desc: "Review a provided design. Score it on: OCP compliance, polymorphism use, coupling level, ease of adding features. <strong>Give a 1-5 score with justification</strong>.", time: "15 min", format: "Solo" }
    ]
  },
  {
    id: 21, module: "lld",
    title: "Persistence & Repositories",
    topics: "Entity modeling ¬∑ Relationship mapping ¬∑ Transactions ¬∑ Repository pattern ¬∑ Service layer",
    activities: [
      { type: "spark", title: "ORM vs Raw SQL Debate", desc: "Show the same query in ORM and raw SQL. Discuss: <strong>when does each shine? Where does ORM abstraction break down?</strong>", time: "15 min", format: "Discussion" },
      { type: "intro", title: "Repository Pattern Implementation", desc: "Implement UserRepository with CRUD methods behind an interface. Show how the <strong>service layer never touches the DB directly</strong>.", time: "30 min", format: "Solo" },
      { type: "practice", title: "Transaction Boundary Design", desc: "Given a multi-step order creation flow (create order + deduct stock + charge payment), define <strong>transaction boundaries and rollback logic</strong>.", time: "20 min", format: "Pairs" },
      { type: "assess", title: "Layered Architecture Review", desc: "Diagram a feature request end-to-end: Controller ‚Üí Service ‚Üí Repository ‚Üí DB. Identify any <strong>layer violations or leaky abstractions</strong>.", time: "15 min", format: "Solo" }
    ]
  },
  {
    id: 22, module: "lld",
    title: "API Layer & Error Handling",
    topics: "REST endpoints ¬∑ Input validation ¬∑ Rate limiting ¬∑ HTTP codes ¬∑ Global error handling",
    activities: [
      { type: "spark", title: "HTTP Status Code Roulette", desc: "Call 10 real public APIs with bad inputs. <strong>Log the status codes returned</strong>. Vote on which ones are correct, misleading, or lazy.", time: "20 min", format: "Group" },
      { type: "intro", title: "Error Handling Framework Design", desc: "Design a global error handler: map exceptions to HTTP codes, define <strong>error response schema, and handle validation vs business vs infra errors</strong> differently.", time: "25 min", format: "Solo" },
      { type: "practice", title: "Rate Limiting Algorithm Comparison", desc: "Implement token bucket and leaky bucket on paper for the same traffic pattern. <strong>Compare burst behavior and smoothness</strong>.", time: "20 min", format: "Pairs" },
      { type: "assess", title: "API Design Audit", desc: "Review a provided REST API spec. Identify: <strong>missing validation, wrong status codes, unclear error messages, and security gaps</strong>.", time: "20 min", format: "Solo" }
    ]
  },
  {
    id: 23, module: "lld",
    title: "Code Review & Refactoring",
    topics: "Design problems ¬∑ Modularization ¬∑ Naming conventions ¬∑ Readability ¬∑ Separation of concerns",
    activities: [
      { type: "spark", title: "WTF/Minute Code Review", desc: "Display notoriously messy code. Students <strong>count their 'WTFs per minute'</strong> as a humorous proxy for code quality. Then identify fixes.", time: "15 min", format: "Group" },
      { type: "intro", title: "Refactoring Kata", desc: "Give a working but messy function (e.g. a billing calculator). Students refactor it in stages: <strong>rename ‚Üí extract ‚Üí split ‚Üí test-name ‚Üí simplify</strong>.", time: "30 min", format: "Solo" },
      { type: "practice", title: "Peer Code Review Round", desc: "Exchange code snippets with a partner. Write a structured code review covering: <strong>naming, cohesion, complexity, and testability</strong>.", time: "25 min", format: "Pairs" },
      { type: "assess", title: "Before/After Explanation", desc: "Show a before and after refactoring. Students write a paragraph explaining <strong>what changed, why it's better, and what trade-offs were made</strong>.", time: "10 min", format: "Solo" }
    ]
  },
  {
    id: 24, module: "lld",
    title: "Capstone: LLD Mock Interview",
    topics: "End-to-end LLD ¬∑ OOP modeling ¬∑ Persistence ¬∑ Trade-offs ¬∑ Scalability",
    activities: [
      { type: "spark", title: "Warm-Up: 5-Min Sketch", desc: "Give a simple problem (Parking Lot or ATM). <strong>5 minutes, draw anything</strong>. No pressure ‚Äî just get ideas on paper. Share and compare approaches.", time: "10 min", format: "Solo" },
      { type: "intro", title: "Structured Problem-Solving Framework", desc: "Walk through the 5-step LLD interview approach: <strong>clarify ‚Üí identify entities ‚Üí design classes ‚Üí add patterns ‚Üí discuss trade-offs</strong>.", time: "20 min", format: "Group" },
      { type: "practice", title: "Full Mock Interview: 35 Min Design", desc: "Choose one: Hotel Reservation, Ride Sharing, or Movie Booking. Design the full system: <strong>OOP model, persistence, API layer, and scalability notes</strong>.", time: "35 min", format: "Solo" },
      { type: "assess", title: "Design Presentation & Peer Critique", desc: "Each student presents their capstone design for 5 minutes. Peers give structured feedback: <strong>1 strength, 1 improvement, 1 question</strong>.", time: "30 min", format: "Group" }
    ]
  }
];

const typeConfig = {
  intro:    { label: "üîç Intro",    cls: "badge-intro" },
  practice: { label: "‚öô Practice", cls: "badge-practice" },
  spark:    { label: "üí° Spark",    cls: "badge-spark" },
  assess:   { label: "‚úÖ Assess",   cls: "badge-assess" }
};

// Build progress tracker
const grid = document.getElementById('check-grid');
classes.forEach(c => {
  const el = document.createElement('div');
  el.className = 'class-check';
  el.dataset.classId = c.id;
  el.innerHTML = `<span class="checkmark">‚óã</span><span>Class ${c.id}</span>`;
  el.addEventListener('click', () => {
    el.classList.toggle('done');
    el.querySelector('.checkmark').textContent = el.classList.contains('done') ? '‚úì' : '‚óã';
    updateProgress();
  });
  grid.appendChild(el);
});

function updateProgress() {
  const done = document.querySelectorAll('.class-check.done').length;
  document.getElementById('done-count').textContent = `${done} / 24`;
  document.getElementById('progress-fill').style.width = `${(done/24)*100}%`;
}

// Build cards
const classesGrid = document.getElementById('classes-grid');

classes.forEach(c => {
  const card = document.createElement('div');
  card.className = 'class-card';
  card.dataset.module = c.module;
  card.dataset.types = [...new Set(c.activities.map(a => a.type))].join(' ');
  card.dataset.search = `class ${c.id} ${c.title} ${c.topics} ${c.activities.map(a => a.title + ' ' + a.desc).join(' ')}`.toLowerCase();

  const activitiesHTML = c.activities.map(a => {
    const t = typeConfig[a.type];
    return `
    <div class="activity-item">
      <div class="act-header">
        <span class="badge ${t.cls}">${t.label}</span>
      </div>
      <div class="act-item-title">${a.title}</div>
      <div class="act-item-desc">${a.desc}</div>
      <div class="act-meta">
        <span class="meta-chip">‚è± ${a.time}</span>
        <span class="meta-chip">üë• ${a.format}</span>
      </div>
    </div>`;
  }).join('');

  card.innerHTML = `
    <div class="card-header" onclick="toggleCard(this.parentElement)">
      <div class="class-num">C${c.id}</div>
      <div class="card-title-wrap">
        <div class="card-title">${c.title}</div>
        <div class="card-subtitle">${c.topics.split('¬∑').slice(0,3).join('¬∑')}</div>
      </div>
      <div class="card-arrow">‚ñ∂</div>
    </div>
    <div class="card-body">
      <div class="activity-section">${activitiesHTML}</div>
    </div>`;

  classesGrid.appendChild(card);
});

function toggleCard(card) {
  card.classList.toggle('expanded');
}

// FILTER
let activeFilter = 'all';
document.querySelectorAll('.filter-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    activeFilter = btn.dataset.filter;
    applyFilters();
  });
});

// SEARCH
document.getElementById('search').addEventListener('input', applyFilters);

function applyFilters() {
  const query = document.getElementById('search').value.toLowerCase();
  const cards = document.querySelectorAll('.class-card');
  let visible = 0;

  cards.forEach(card => {
    const matchFilter =
      activeFilter === 'all' ||
      (activeFilter === 'sys' && card.dataset.module === 'sys') ||
      (activeFilter === 'lld' && card.dataset.module === 'lld') ||
      card.dataset.types.includes(activeFilter);

    const matchSearch = !query || card.dataset.search.includes(query);

    if (matchFilter && matchSearch) {
      card.classList.remove('hidden');
      visible++;
    } else {
      card.classList.add('hidden');
    }
  });

  document.getElementById('empty-state').style.display = visible === 0 ? 'block' : 'none';
}
</script>
</body>
</html>
